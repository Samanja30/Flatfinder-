<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Property Inquiries - FlatFinders">
  <title>Inquiries - FlatFinders</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23c9a66b' rx='15' width='100' height='100'/><path fill='white' d='M50 20L20 45v35h25V55h10v25h25V45L50 20z'/></svg>">
  <style>
    .inquiry-filters { display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap; }
    .inquiry-card { border: 1px solid var(--gray-200); border-radius: var(--radius-md); padding: 1.5rem; margin-bottom: 1rem; transition: all var(--transition-base); }
    .inquiry-card:hover { box-shadow: var(--shadow-md); }
    .inquiry-card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem; gap: 1rem; flex-wrap: wrap; }
    .inquiry-property { display: flex; gap: 1rem; align-items: center; }
    .inquiry-property-image { width: 60px; height: 45px; border-radius: var(--radius-sm); object-fit: cover; }
    .inquiry-property-info h4 { font-size: 1rem; margin-bottom: 0.25rem; }
    .inquiry-customer { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; padding: 1rem; background: var(--gray-100); border-radius: var(--radius-sm); }
    .inquiry-customer-avatar { width: 48px; height: 48px; border-radius: 50%; object-fit: cover; }
    .inquiry-customer-info h5 { margin-bottom: 0.25rem; }
    .inquiry-customer-info p { font-size: 0.85rem; color: var(--gray-600); }
    .inquiry-message { background: var(--off-white); padding: 1rem; border-radius: var(--radius-sm); margin-bottom: 1rem; border-left: 3px solid var(--primary-gold); }
    .inquiry-message strong { display: block; margin-bottom: 0.5rem; color: var(--gray-800); }
    .reply-form { background: var(--gray-100); padding: 1rem; border-radius: var(--radius-sm); margin-top: 1rem; }
    .reply-form textarea { width: 100%; min-height: 100px; padding: 0.75rem; border: 1px solid var(--gray-300); border-radius: var(--radius-sm); margin-bottom: 0.75rem; resize: vertical; }
    @media (max-width: 768px) { .inquiry-card-header { flex-direction: column; } }
  </style>
</head>
<body>
  <div class="dashboard">
    <!-- Sidebar -->
    <aside class="dashboard-sidebar">
      <div class="dashboard-logo">
        <div class="logo-icon">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 9.5L12 3L21 9.5V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9.5Z" fill="currentColor"/>
            <path d="M9 22V12H15V22" stroke="white" stroke-width="2"/>
          </svg>
        </div>
        <span class="logo-text">FlatFinders</span>
      </div>
      
      <nav class="dashboard-nav">
        <div class="nav-section">
          <span class="nav-section-title">Main</span>
          <a href="owner-dashboard.html" class="dashboard-nav-link">
            <svg viewBox="0 0 24 24"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
            Dashboard
          </a>
          <a href="owner-dashboard.html" class="dashboard-nav-link">
            <svg viewBox="0 0 24 24"><path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>
            My Properties
          </a>
          <a href="post-property.html" class="dashboard-nav-link">
            <svg viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"/></svg>
            Add Property
          </a>
          <a href="owner-inquiries.html" class="dashboard-nav-link active">
            <svg viewBox="0 0 24 24"><path d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>
            Inquiries
            <span class="badge">5</span>
          </a>
        </div>
        
        <div class="nav-section">
          <span class="nav-section-title">Account</span>
          <a href="owner-profile.html" class="dashboard-nav-link">
            <svg viewBox="0 0 24 24"><path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
            My Profile
          </a>
          <a href="owner-settings.html" class="dashboard-nav-link">
            <svg viewBox="0 0 24 24"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
            Settings
          </a>
          <a href="index.html" class="dashboard-nav-link">
            <svg viewBox="0 0 24 24"><path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
            Logout
          </a>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="dashboard-main">
      <!-- Header -->
      <header class="dashboard-header">
        <div class="dashboard-search">
          <svg viewBox="0 0 24 24"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
          <input type="text" placeholder="Search inquiries...">
        </div>
        
        <div class="dashboard-user">
          <div class="notifications">
            <svg viewBox="0 0 24 24"><path d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/></svg>
            <span class="badge"></span>
          </div>
          <div class="user-dropdown">
            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop" alt="Owner" class="user-avatar">
            <div class="user-info">
              <h5>Property Owner</h5>
              <p>Owner</p>
            </div>
          </div>
        </div>
      </header>

      <!-- Content -->
      <div class="dashboard-content">
        <h1 class="dashboard-title">Property Inquiries</h1>
        <p class="dashboard-subtitle">Manage and respond to customer inquiries about your properties</p>

        <!-- Filters -->
        <div class="inquiry-filters">
          <button class="btn btn-primary inquiry-filter-btn active" data-filter="all">All Inquiries</button>
          <button class="btn btn-secondary inquiry-filter-btn" data-filter="new">New</button>
          <button class="btn btn-secondary inquiry-filter-btn" data-filter="replied">Replied</button>
        </div>

        <!-- Inquiries List -->
        <div id="inquiriesList">
          <!-- New Inquiry 1 -->
          <div class="inquiry-card" data-status="new">
            <div class="inquiry-card-header">
              <div class="inquiry-property">
                <img src="https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=200&q=80" alt="Property" class="inquiry-property-image">
                <div class="inquiry-property-info">
                  <h4>Modern Bachelor Flat with Balcony</h4>
                  <p style="font-size: 0.85rem; color: var(--primary-gold); font-weight: 600;">à§³12,000/month</p>
                </div>
              </div>
              <span class="status-badge pending">New</span>
            </div>
            
            <div class="inquiry-customer">
              <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop" alt="Customer" class="inquiry-customer-avatar">
              <div class="inquiry-customer-info">
                <h5>John Doe</h5>
                <p>ðŸ“§ john.doe@example.com â€¢ ðŸ“ž +880 1711-123456</p>
                <p style="margin-top: 0.25rem; font-size: 0.75rem;">Received: Dec 10, 2024 at 2:30 PM</p>
              </div>
            </div>
            
            <div class="inquiry-message">
              <strong>Customer's Message:</strong>
              <p>Hi, I'm interested in this property. Is it still available? I would like to schedule a visit this weekend. Please let me know your available time slots. Thanks!</p>
            </div>
            
            <div class="reply-form" id="reply-form-1" style="display: block;">
              <strong style="display: block; margin-bottom: 0.5rem;">Your Reply:</strong>
              <textarea placeholder="Type your response here..." id="reply-text-1"></textarea>
              <div style="display: flex; gap: 0.5rem;">
                <button class="btn btn-primary" onclick="sendReply(1)">Send Reply</button>
                <button class="btn btn-secondary" onclick="document.getElementById('reply-form-1').style.display='none'">Cancel</button>
              </div>
            </div>
          </div>

          <!-- New Inquiry 2 -->
          <div class="inquiry-card" data-status="new">
            <div class="inquiry-card-header">
              <div class="inquiry-property">
                <img src="https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=200&q=80" alt="Property" class="inquiry-property-image">
                <div class="inquiry-property-info">
                  <h4>Cozy Bachelor Room Near AIUB</h4>
                  <p style="font-size: 0.85rem; color: var(--primary-gold); font-weight: 600;">à§³8,000/month</p>
                </div>
              </div>
              <span class="status-badge pending">New</span>
            </div>
            
            <div class="inquiry-customer">
              <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop" alt="Customer" class="inquiry-customer-avatar">
              <div class="inquiry-customer-info">
                <h5>Ahmed Hassan</h5>
                <p>ðŸ“§ ahmed.hassan@aiub.edu â€¢ ðŸ“ž +880 1711-234567</p>
                <p style="margin-top: 0.25rem; font-size: 0.75rem;">Received: Dec 11, 2024 at 9:15 AM</p>
              </div>
            </div>
            
            <div class="inquiry-message">
              <strong>Customer's Message:</strong>
              <p>Good morning! I'm a student at AIUB. Could you please share more details about the amenities and monthly utility costs? Also, is cooking allowed?</p>
            </div>
            
            <div class="reply-form" id="reply-form-2">
              <strong style="display: block; margin-bottom: 0.5rem;">Your Reply:</strong>
              <textarea placeholder="Type your response here..." id="reply-text-2"></textarea>
              <div style="display: flex; gap: 0.5rem;">
                <button class="btn btn-primary" onclick="sendReply(2)">Send Reply</button>
                <button class="btn btn-secondary" onclick="document.getElementById('reply-form-2').style.display='none'">Cancel</button>
              </div>
            </div>
          </div>

          <!-- Replied Inquiry 3 -->
          <div class="inquiry-card" data-status="replied">
            <div class="inquiry-card-header">
              <div class="inquiry-property">
                <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=200&q=80" alt="Property" class="inquiry-property-image">
                <div class="inquiry-property-info">
                  <h4>Spacious 2BHK Family Apartment</h4>
                  <p style="font-size: 0.85rem; color: var(--primary-gold); font-weight: 600;">à§³15,000/month</p>
                </div>
              </div>
              <span class="status-badge replied">Replied</span>
            </div>
            
            <div class="inquiry-customer">
              <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop" alt="Customer" class="inquiry-customer-avatar">
              <div class="inquiry-customer-info">
                <h5>Kamal Hossain</h5>
                <p>ðŸ“§ kamal.h@example.com â€¢ ðŸ“ž +880 1711-345678</p>
                <p style="margin-top: 0.25rem; font-size: 0.75rem;">Received: Dec 8, 2024 at 4:20 PM</p>
              </div>
            </div>
            
            <div class="inquiry-message">
              <strong>Customer's Message:</strong>
              <p>Is this apartment suitable for a family with two children? Are there any parks or schools nearby?</p>
            </div>
            
            <div style="background: rgba(201, 166, 107, 0.1); padding: 1rem; border-radius: var(--radius-sm); border-left: 3px solid var(--primary-gold);">
              <strong style="display: block; margin-bottom: 0.5rem; color: var(--primary-gold);">âœ“ Your Reply (Sent on Dec 9, 2024 at 11:20 AM):</strong>
              <p>Yes, this is perfect for families! There's a playground within the building and two good schools within 1km. The area is very family-friendly and safe. Would you like to visit? I'm available this weekend.</p>
            </div>
          </div>

          <!-- Replied Inquiry 4 -->
          <div class="inquiry-card" data-status="replied">
            <div class="inquiry-card-header">
              <div class="inquiry-property">
                <img src="https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=200&q=80" alt="Property" class="inquiry-property-image">
                <div class="inquiry-property-info">
                  <h4>Premium Bachelor Suite Near Airport</h4>
                  <p style="font-size: 0.85rem; color: var(--primary-gold); font-weight: 600;">à§³10,000/month</p>
                </div>
              </div>
              <span class="status-badge replied">Replied</span>
            </div>
            
            <div class="inquiry-customer">
              <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=100&h=100&fit=crop" alt="Customer" class="inquiry-customer-avatar">
              <div class="inquiry-customer-info">
                <h5>Rafiq Ahmed</h5>
                <p>ðŸ“§ rafiq.ahmed@gmail.com â€¢ ðŸ“ž +880 1711-456789</p>
                <p style="margin-top: 0.25rem; font-size: 0.75rem;">Received: Dec 9, 2024 at 6:45 PM</p>
              </div>
            </div>
            
            <div class="inquiry-message">
              <strong>Customer's Message:</strong>
              <p>What is the minimum lease period? I'm looking for a 6-month rental. Also, is the rent negotiable?</p>
            </div>
            
            <div style="background: rgba(201, 166, 107, 0.1); padding: 1rem; border-radius: var(--radius-sm); border-left: 3px solid var(--primary-gold);">
              <strong style="display: block; margin-bottom: 0.5rem; color: var(--primary-gold);">âœ“ Your Reply (Sent on Dec 10, 2024 at 9:00 AM):</strong>
              <p>Hello Rafiq! The minimum lease period is 6 months, which works perfectly for you. The rent is slightly negotiable. Let's discuss further when you visit. When would be convenient for you?</p>
            </div>
          </div>

          <!-- Replied Inquiry 5 -->
          <div class="inquiry-card" data-status="replied">
            <div class="inquiry-card-header">
              <div class="inquiry-property">
                <img src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=200&q=80" alt="Property" class="inquiry-property-image">
                <div class="inquiry-property-info">
                  <h4>Luxury 2BHK in Prime Location</h4>
                  <p style="font-size: 0.85rem; color: var(--primary-gold); font-weight: 600;">à§³18,000/month</p>
                </div>
              </div>
              <span class="status-badge replied">Replied</span>
            </div>
            
            <div class="inquiry-customer">
              <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=100&h=100&fit=crop" alt="Customer" class="inquiry-customer-avatar">
              <div class="inquiry-customer-info">
                <h5>Sarah Khan</h5>
                <p>ðŸ“§ sarah.khan@example.com â€¢ ðŸ“ž +880 1711-567890</p>
                <p style="margin-top: 0.25rem; font-size: 0.75rem;">Received: Dec 7, 2024 at 3:30 PM</p>
              </div>
            </div>
            
            <div class="inquiry-message">
              <strong>Customer's Message:</strong>
              <p>Does the apartment come furnished? Also, what are the parking arrangements?</p>
            </div>
            
            <div style="background: rgba(201, 166, 107, 0.1); padding: 1rem; border-radius: var(--radius-sm); border-left: 3px solid var(--primary-gold);">
              <strong style="display: block; margin-bottom: 0.5rem; color: var(--primary-gold);">âœ“ Your Reply (Sent on Dec 7, 2024 at 6:15 PM):</strong>
              <p>The apartment is semi-furnished (bed, wardrobe, dining table included). We have covered parking for 2 cars. Additional furniture can be provided upon request. Let me know if you'd like to see it!</p>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="assets/js/main.js"></script>
  <script>
    // Filter functionality
    document.querySelectorAll('.inquiry-filter-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.inquiry-filter-btn').forEach(b => {
          b.classList.remove('btn-primary', 'active');
          b.classList.add('btn-secondary');
        });
        this.classList.remove('btn-secondary');
        this.classList.add('btn-primary', 'active');
        
        const filter = this.dataset.filter;
        let visibleCount = 0;
        
        document.querySelectorAll('.inquiry-card').forEach(card => {
          if (filter === 'all' || card.dataset.status === filter) {
            card.style.display = 'block';
            card.style.animation = 'fadeIn 0.3s ease';
            visibleCount++;
          } else {
            card.style.display = 'none';
          }
        });
        
        // Show message if no inquiries in this filter
        if (visibleCount === 0) {
          const inquiriesList = document.getElementById('inquiriesList');
          let emptyMsg = document.querySelector('.empty-filter-message');
          if (!emptyMsg) {
            emptyMsg = document.createElement('div');
            emptyMsg.className = 'empty-filter-message';
            emptyMsg.style.cssText = 'text-align: center; padding: 3rem; color: var(--gray-600);';
            inquiriesList.appendChild(emptyMsg);
          }
          emptyMsg.innerHTML = `
            <svg viewBox="0 0 24 24" style="width: 64px; height: 64px; fill: var(--gray-300); margin-bottom: 1rem;">
              <path d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
            </svg>
            <h3>No ${filter === 'all' ? '' : filter} inquiries</h3>
            <p>${filter === 'new' ? 'All inquiries have been replied to!' : 'No inquiries match this filter'}</p>
          `;
          emptyMsg.style.display = 'block';
        } else {
          const emptyMsg = document.querySelector('.empty-filter-message');
          if (emptyMsg) emptyMsg.style.display = 'none';
        }
      });
    });

    // Send reply function
    function sendReply(id) {
      const textarea = document.getElementById(`reply-text-${id}`);
      const message = textarea.value.trim();
      
      if (!message) {
        alert('Please type a message before sending.');
        return;
      }
      
      // Get the send button and disable it immediately with blur effect
      const sendBtn = event.target;
      sendBtn.disabled = true;
      sendBtn.style.opacity = '0.5';
      sendBtn.style.filter = 'blur(1px)';
      sendBtn.style.cursor = 'not-allowed';
      sendBtn.style.pointerEvents = 'none';
      sendBtn.textContent = 'Sending...';
      sendBtn.classList.add('loading');
      
      // Blur the entire form during submission
      const form = document.getElementById(`reply-form-${id}`);
      form.style.opacity = '0.7';
      form.style.filter = 'blur(0.5px)';
      
      // Simulate sending delay
      setTimeout(() => {
        const card = form.closest('.inquiry-card');
        
        // Update status
        card.dataset.status = 'replied';
        const statusBadge = card.querySelector('.status-badge');
        statusBadge.textContent = 'Replied';
        statusBadge.className = 'status-badge replied';
        
        // Replace form with sent message
        form.outerHTML = `
          <div style="background: rgba(201, 166, 107, 0.1); padding: 1rem; border-radius: var(--radius-sm); border-left: 3px solid var(--primary-gold); animation: fadeIn 0.5s ease;">
            <strong style="display: block; margin-bottom: 0.5rem; color: var(--primary-gold);">âœ“ Your Reply (Sent just now):</strong>
            <p>${message}</p>
          </div>
        `;
        
        showNotification('Reply sent successfully!', 'success');
        
        // Update filter counts
        updateInquiryFilterCounts();
        
        // If currently viewing "New" filter, hide this card
        const activeFilter = document.querySelector('.inquiry-filter-btn.active');
        if (activeFilter && activeFilter.dataset.filter === 'new') {
          card.style.display = 'none';
        }
        
        // Add notification for the customer (simulated)
        if (typeof addNotification === 'function') {
          addNotification('Reply Sent', 'You replied to a customer inquiry');
        }
        
        // Add fade-in animation
        card.style.animation = 'fadeIn 0.5s ease';
      }, 800);
    }
    
    // Update filter counts
    function updateInquiryFilterCounts() {
      const allCards = document.querySelectorAll('.inquiry-card');
      const newCount = Array.from(allCards).filter(c => c.dataset.status === 'new').length;
      const repliedCount = Array.from(allCards).filter(c => c.dataset.status === 'replied').length;
      
      // Note: Button text doesn't have count badges anymore, but we track internally
      console.log(`Updated counts - New: ${newCount}, Replied: ${repliedCount}`);
    }
  </script>
</body>
</html>

